<% layout('layouts/boilerplate') %>
<div class="row">
    <h1 class="text-center">Edit a Playground</h1>
    <div class="col-6 offset-3">
        <form
            action="/playgrounds/<%= playground._id %>?_method=PUT "
            method="POST"
            novalidate
            class="validated-form"
            enctype="multipart/form-data"
        >
            <div class="mb-3">
                <label class="form-label" for="title">Title</label>
                <input
                    class="form-control"
                    type="text"
                    name="playground[title]"
                    value="<%= playground.title%>"
                    id="title"
                    required
                />
                <div class="valid-feedback">Looks good!</div>
            </div>

            <div class="mb-3">
                <label class="form-label" for="location">Address</label>
                <input
                    class="form-control"
                    type="text"
                    value="<%= playground.address%>"
                    name="playground[address]"
                    id="address"
                    required
                />
                <div class="valid-feedback">Looks good!</div>
            </div>


            <div class="mb-3">
                <label class="form-label" for="devices">Devices</label>
                    <input
                        class="form-control"
                        type="text"
                        name="playground[devices]"
                        id="devices"
                        value="<%= playground.devices%>"
                        required
                    />
                    <div class="valid-feedback">Looks good!</div>
                
            </div>

            <div class="mb-3">
                <label class="form-label" for="description"> Description</label>
                <textarea
                    class="form-control"
                    type="text"
                    name="playground[description]"
                    id="description"
                    required
                >
                <%= playground.description%>
                </textarea>
                <div class="valid-feedback">Looks good!</div>
            </div>
            <div class="mb-3">
                <label for="image" class="form-label">Add more image(s)...</label>
                <input class="form-control" type="file" id="image" name="image" multiple>
                <!-- <input type="file" name="image" id="image" multiple> -->
            </div>

            <h5> Delete Images </h5>
            <div class="row row-cols-1 row-cols-md-4 g-4 mb-3">
                <% playground.images.forEach((image, i) => { %>
                    <div class="col">
                        <div class="card">
                            <img class="card-img" src="<%= image.thumbnail %>" alt="">
                            <div class="card-img-overlay text-end pt-1 pe-2">
                                <label class="visually-hidden" for="image-<%= i %>">Delete Image</label>
                                <input class="form-check-input" type="checkbox" name="deleteImages[]" value="<%= image.filename %>"  id="image-<%= i %>">
                            </div>
                        </div>
                    </div>
                <% }) %>
            </div>
            <div class="mb-3">
                <button class="btn btn-info">Update a Playground</button>
            </div>
        </form>
        <div>
            <a href="/playgrounds/<%= playground._id%> ">Back to Playground</a>
        </div>
    </div>
</div>
